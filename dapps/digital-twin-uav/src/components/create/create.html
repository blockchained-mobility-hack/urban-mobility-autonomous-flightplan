<evan-loading *ngIf="loading" delayLoading="500"></evan-loading>
<ng-container *ngIf="!loading">
  <form *ngIf="!loading" #createForm="ngForm">
    <div class="evan-content">
      <h2 class="content-header m-b-0">{{ '_uav.general' | translate }}</h2>
      <span>{{ '_uav.fill-required' | translate }}</span>
      <ion-row>
        <ion-col col-12 col-md-6>
          <ion-item>
            <ion-label stacked>{{ '_uav.forms.name' | translate }}*</ion-label>
            <ion-input name="name" required
              [(ngModel)]="uav.name"
              (ionChange)="ref.detectChanges()">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-md-6>
          <ion-item>
            <ion-label stacked>{{ '_uav.forms.registration-number' | translate }}*</ion-label>
            <ion-input name="registrationNumber" required
              [(ngModel)]="uav.registrationNumber"
              (ionChange)="ref.detectChanges()">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12 col-md-6>
          <ion-item>
            <ion-label stacked>{{ '_uav.forms.location' | translate }}*</ion-label>
            <ion-input name="location" required
              [(ngModel)]="uav.location"
              (ionChange)="ref.detectChanges()">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>  
    </div>
    <div class="evan-content">
      <h2 class="content-header m-b-0">{{ '_uav.technical-informations' | translate }}</h2>
      <span>{{ '_uav.fill-required' | translate }}</span>
      <ion-row>
        <ion-col col-12 col-md-6>
          <ion-item>
            <ion-label stacked>{{ '_uav.forms.type' | translate }}*</ion-label>
            <ion-input name="type" required
              [(ngModel)]="uav.type"
              (ionChange)="ref.detectChanges()">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-md-6>
          <ion-item>
            <ion-label stacked>{{ '_uav.forms.manufacturer' | translate }}*</ion-label>
            <ion-input name="manufacturer" required
              [(ngModel)]="uav.manufacturer"
              (ionChange)="ref.detectChanges()">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12 col-md-6>
          <ion-item>
            <ion-label stacked>{{ '_uav.forms.model' | translate }}*</ion-label>
            <ion-input name="model" required
              [(ngModel)]="uav.model"
              (ionChange)="ref.detectChanges()">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-md-6>
          <ion-item>
            <ion-label stacked>{{ '_uav.forms.weight' | translate }}*</ion-label>
            <ion-input name="weight" required type="number"
              [(ngModel)]="uav.weight"
              (ionChange)="ref.detectChanges()">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-label class="standalone">
        {{ '_uav.forms.pilot'  | translate }}
      </ion-label>
      <ion-item>
        <ion-label>
          {{ ('_uav.forms.pilot-' + uav.pilot)  | translate }}
        </ion-label>
        <ion-checkbox name="pilot"
          [(ngModel)]="uav.pilot"
          (ionChange)="ref.detectChanges()">
        </ion-checkbox>
      </ion-item>
    </div>


    <div class="evan-content evan-mini-content" text-center>
      <button ion-button icon-left outline round margin-top
        [disabled]="!createForm.form.valid"
        (click)="createUAV()">
        {{ '_uav.create' | translate }}
      </button>
    </div>
  </form>
</ng-container>
